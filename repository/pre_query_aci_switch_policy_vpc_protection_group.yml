#It is generated by the source task as:task_list.txt
  - name: 1g_Post Query vPC Protection Groups
    aci_switch_policy_vpc_protection_group:
     host: '{{ inventory_hostname }}'
     username: '{{ username }}'
     password: '{{ password }}'
     protection_group: '{{ item.vpcGroupName }}'
     protection_group_id: '{{ item.id }}'
     switch_1_id: '{{ item.switch1 }}'
     switch_2_id: '{{ item.switch2 }}'
     state: query
     validate_certs: no
    ignore_errors: yes
    register: query_result
    with_items: "{{ aci_switch_policy_vpc_protect }}"
    delegate_to: localhost


  - name: Assert the existing object
    assert:
      that:
      - item.current == []
      success_msg: "Object does not exist. Can create it."
      fail_msg: "Object exists. DO NOT recreate it!."
    with_items: "{{query_result.results}}"

