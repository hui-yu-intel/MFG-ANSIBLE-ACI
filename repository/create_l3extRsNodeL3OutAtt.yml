#It is generated by the script with the sourcing file as:4b_eigrp_l3out.yml
  - name: 4b Add Nodes to Node Profiles
    aci_rest:
      hostname: '{{ inventory_hostname }}'
      username: '{{ username }}'
      password: '{{ password }}'
      validate_certs: no
      path: /api/node/mo/uni/tn-{{ item.tenantName }}/out-{{ item.l3outName }}/lnodep-{{ item.nodeProfile }}/rsnodeL3OutAtt-[topology/pod-{{ item.podID}}/node-{{ item.nodeID}}].json
      method: post
      content: |
        {
         "l3extRsNodeL3OutAtt": {
           "attributes": {
             "dn": "uni/tn-{{ item.tenantName }}/out-{{ item.l3outName }}/lnodep-{{ item.nodeProfile }}/rsnodeL3OutAtt-[topology/pod-{{ item.podID}}/node-{{ item.nodeID}}]",
             "tDn": "topology/pod-{{ item.podID}}/node-{{ item.nodeID}}",
             "rtrId": "{{ item.routerID }}",
             "rn": "rsnodeL3OutAtt-[topology/pod-{{ item.podID}}/node-{{ item.nodeID}}]",
             "status": "created"
            }
          }
        }
    with_items: "{{ l3extRsNodeL3OutAtt }}"
    delegate_to: localhost
    ignore_errors: yes

# the end
