#It is generated by the source task as:create_aci_domain.yml
  - name: 1d Post Query a Domain for User Tenant
    aci_domain:
      hostname: '{{ inventory_hostname }}'
      username: '{{ username }}'
      password: '{{ password }}'
      validate_certs: no
      domain: "{{ item.Dom }}"
      domain_type: "{{ item.DomType }}"
      state: query
    register: query_result
    with_items: "{{ aci_domain }}"
    delegate_to: localhost


  - name: Assert the existing object
    assert:
      that:
      - item.current != []
      success_msg: "Object exists in the Fabric."
      fail_msg: "Object does NOT exist in the Fabric."
    with_items: "{{query_result.results}}"

