#It is generated by the script with the sourcing file as:2d_create_consumer_provider_relationships.yml
    - name: Create Provider in L3out Ext EPGs
      aci_rest:
        host: "{{ inventory_hostname }}"
        username: "{{ username }}"
        password: "{{ password }}"
        validate_certs: no
        path: /api/node/mo/uni/tn-{{ item.tenant }}/out-FabCore_L3Out/instP-{{ item.extEpgName }}.json
        method: post
        content: |		
          {
              "l3extInstP": {
                  "attributes": {
                    "annotation": "",
                    "descr": "",
                    "dn": "uni/tn-{{ item.tenant }}/out-FabCore_L3Out/instP-{{ item.extEpgName }}",
                    "exceptionTag": "",
                    "floodOnEncap": "disabled",
                    "matchT": "AtleastOne",
                    "name": "{{ item.extEpgName }}",
                    "nameAlias": "",
                    "prio": "unspecified",
                    "targetDscp": "unspecified"
                  },
                  "children": [
                      {
                          "fvRsProv": {
                              "attributes": {
                                  "annotation": "",
                                  "matchT": "AtleastOne",
                                  "prio": "unspecified",
                                  "tnVzBrCPName": "{{ item.Provided }}"
          	   				         }
          	   			       } 
          	   		     },
          	   	   ]
          	   }
          }
      with_items: '{{l3extInstP_fvRsProv}}'


# the end
