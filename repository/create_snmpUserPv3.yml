#It is generated by the script with the sourcing file as:snmpv3_aci_updateV2_Rundeck.yml
  - name: Create SNMPv3 Username and Auth attributes
    aci_rest:
      host: "{{ inventory_hostname }}"
      username: "{{ username }}"
      password: "{{ password }}"
      validate_certs: no
      path: /api/node/mo/uni/fabric/snmppol-{{ item.snmpPolicy }}/user-NMACIMonitor.json
      method: post
      content:  |
          {
             "snmpUserP": {
                 "attributes": {
                     "annotation": "",
                     "dn": "uni/fabric/snmppol-{{ item.snmpPolicy }}/user-NMACIMonitor",
                     "authType": "hmac-sha1-96",
                     "authKey":"{{ item.snmpV2string }}",
                     "descr": "",
                     "name": "NMACIMonitor",
                     "nameAlias": "",
                     "privType": "aes-128",
                     "privKey":"R3m0teM0n11"
                      }
                  }
              }
    with_items: "{{ snmpUserPv3 }}"
    delegate_to: localhost

# the end
