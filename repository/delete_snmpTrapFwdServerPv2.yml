#It is generated by the script with the sourcing file as:snmpv3_aci_updateV2_Rundeck.yml
  - name: Delete SNMP v2 SNMP Policy Trap Forwarders
    aci_rest:
      host: "{{ inventory_hostname }}"
      username: "{{ username }}"
      password: "{{ password }}"
      validate_certs: no
      path: /api/node/mo/uni/fabric/snmppol-{{ item.snmpPolicy }}/trapfwdserver-[{{ item.snmpV2TrapIp }}].json
      method: post
      content: |
        {
            "snmpTrapFwdServerP": {
                "attributes": {
                  "addr": "{{ item.snmpV2TrapIp }}",
                  "dn": "uni/fabric/snmppol-{{ item.snmpPolicy }}/trapfwdserver-[{{ item.snmpV2TrapIp }}]",
                  "port": "162",
                  "status": "deleted"
                  }
                }
              }
    with_items: "{{ snmpTrapFwdServerPv2 }}"   
    delegate_to: localhost  

# the end
