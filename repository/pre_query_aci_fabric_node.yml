#It is generated by the source task as:task_list.txt
 - name: Discover Switches and Post Query to the Fabric
   aci_fabric_node:
     hostname: '{{ inventory_hostname }}'
     username: '{{ username }}'
     password: '{{ password }}'
     validate_certs: no
     serial: '{{ item.serial }}'
     node_id: '{{ item.nodeId }}'
     pod_id: '{{ item.podId }}'
     switch: '{{ item.switchName }}'
     role: '{{ item.switchRole }}'
     state: query
   register: query_result
   with_items: "{{ aci_fabric_node }}"
   delegate_to: localhost
   ignore_errors: yes


 - name: Assert the existing object
   assert:
     that:
     - item.current == []
     success_msg: "Object does not exist. Can create it."
     fail_msg: "Object exists. DO NOT recreate it!."
   with_items: "{{query_result.results}}"

