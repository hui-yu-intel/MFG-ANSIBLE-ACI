#It is generated by the script with the sourcing file as:1c_create_vmm_domain.yaml
  - name: pb1c Add credential to VMware VMM domain
    aci_vmm_credential:
      hostname: '{{ inventory_hostname }}'
      username: '{{ username }}'
      password: '{{ password }}'
      validate_certs: no
      domain: "{{ item.vmmDomainName }}"
      description: APIC Account for vCenter
      name: vCenterCredential
      credential_username: "{{ item.vCenterUsername }}"   # Need to escapte the "\".  'vCenterUsername': 'ch4prod\\ch4_aciadmin'
      #credential_password: "{{ vCenterPassword }}"  # Will come from Rundeck GUI Input
      vm_provider: vmware
      state: present
    with_items: "{{ aci_vmm_credential }}"
    delegate_to: localhost

# the end
