#It is generated by the script with the sourcing file as:1c_create_vmm_domain.yaml
  - name: pb1c Add vCenter Controler to VMware VMM domain
    aci_rest:
      hostname: '{{ inventory_hostname }}'
      username: '{{ username }}'
      password: '{{ password }}'
      validate_certs: no
      path: /api/node/mo/uni/vmmp-VMware/dom-{{ item.vmmDomainName }}/ctrlr-{{ item.vCenterName }}.json
      method: post
      content: |
        {
          "vmmCtrlrP": {
              "attributes": {
                  "annotation": "",
                  "dn": "uni/vmmp-VMware/dom-{{ item.vmmDomainName }}/ctrlr-{{ item.vCenterName }}",
                  "dvsVersion": "unmanaged",
                  "hostOrIp": "{{ item.vCenterIP }}",
                  "inventoryTrigSt": "untriggered",
                  "mode": "default",
                  "msftConfigErrMsg": "",
                  "msftConfigIssues": "",
                  "n1kvStatsMode": "enabled",
                  "name": "{{ item.vCenterName  }}",
                  "nameAlias": "",
                  "port": "0",
                  "rootContName": "{{ item.vCenterDataCenter }}",
                  "scope": "vm",
                  "seqNum": "3",
                  "statsMode": "enabled",
                  "vxlanDeplPref": "vxlan"
              },
              "children": [
                  {
                      "vmmRsAcc": {
                          "attributes": {
                              "annotation": "",
                              "tDn": "uni/vmmp-VMware/dom-{{ item.vmmDomainName }}/usracc-vCenterCredential"
                            }
                        }
                    }
                ]
            }
        }
    with_items: "{{ vmmCtrlrP }}"
    delegate_to: localhost

# the end
